<!--
	=> 숫자만 입력받아 3자리마다 콤마를 제어 재입력하는 예제
-->
<html>
	<meta charset="UTF-8">
	<head>
		<script src="jquery-1.11.0.min.js"></script>
		<script>
			$(document).ready(function(){
				//--------------------------------------------------
				// 커서를 class=money가 있는 입력 양식에 들여놓는다
				//--------------------------------------------------
				$(".money").focus();
				//--------------------------------------------------
				// class=money를 가진 입력 양식에서 keyup 이벤트가 발생하면
				// 익명 함수 안의 코딩 실행하기
				//--------------------------------------------------
				$(".money").bind("keyup", function(){
				//--------------------------------------------------
				// class=money를 가진 입력 양식에서 입력한 데이터를
				// 자바스크립트 영역을 가져와 변수에 저장
				//--------------------------------------------------
				var money = $(this).val();
				//--------------------------------------------------
				// 숫자만 골라서 저장할 변수 선언
				//--------------------------------------------------
				var num = "";
				//--------------------------------------------------
				// money 변수 안의 데이터 중 숫자만 골라 num 변수에 축적 시킴
				//--------------------------------------------------
				for ( var i=0; i<money.length; i++ ){
					// money 안의 데이터 중 i번째 데이터가 숫자문자면 num 변수 축적
					if ( "0123456789".indexOf(money.charAt(i) ) >=0 ){
						num=num+money.charAt(i);
					}
				}
				//--------------------------------------------------
				// num 변수 안의 맨 앞의 데이터가 0이면 0을 제거
				//--------------------------------------------------
				while ( num.charAt(0)=="0"){
					num = num.substring(1);
				}
				//--------------------------------------------------
				// 콤마를 포함한 최종 문자열을 저장할 변수 선언
				//--------------------------------------------------
				var result = "";
				//--------------------------------------------------
				// 기존 입력 문자열에서 맨 뒤에서 부터 하나씩 낚아채서
				// result 변수 누저시킴
				// 이떄 3의 배수 만큼 낚아챌 때 콤마(,)를 앞에 넣어 누적 시킴
				// cnt 변수의 역할은 낚아챈 개수가 저장된다.
				//--------------------------------------------------
				var cnt = 0;
				for ( var i=num.length-1; i>=0; i-- ){
					cnt++;
					if ( cnt%3==0 ){
						result = ","+num.charAt(i) + result;
					}else{
						result = num.charAt(i) + result
					}
				}
				//--------------------------------------------------
				// 맨 앞이 콤마(,)로 시작하면 그 이후 문자를 낚아채 result에 재저장
				//--------------------------------------------------
				if ( result.charAt(0)=="," ){
					result = result.substring(1);
				}
				//------------------------------------------------------------------
				//위 코딩은 아래 코딩으로 대체가능함
				//------------------------------------------------------------------
				/*
				//------------------------------------------------------------------
				// num 변수 안의 데이터를 하나씩 토막내서 Array객체 배열변수에 저장
				//------------------------------------------------------------------
				var arr = num.split("");
				for( var i=arr.length-1; i>=0; i++ ){
					++cnt;
					if( cnt%3==0 && i>0 ){
						arr[i] = "," + arr[i];
					}
				}
				result = arr.join("");
				*/
				//--------------------------------------------------
				// result에 저장된 데이터를 keyup 이벤트가 발생한 놈의
				// value 값으로 넣어주기
				//--------------------------------------------------
				$(this).val(result);

				//$(".msg").remove();
				//$("body").append("<div class=msg align=center>"+num+"</div>");

				});
			});
		</script>
	</head>
	
	<body><center>
		<input type="text" class="money" name="money">원<br><br>
	</body>
</html>







